--// GUI setup
local ScreenGui = Instance.new("ScreenGui", game.Players.LocalPlayer:WaitForChild("PlayerGui"))
local Frame = Instance.new("Frame", ScreenGui)
local TextBox = Instance.new("TextBox", Frame)
local Button = Instance.new("TextButton", Frame)
local UICorner = Instance.new("UICorner", Frame)

ScreenGui.Name = "AnimGUI"
Frame.Size = UDim2.new(0, 250, 0, 140)
Frame.Position = UDim2.new(0.4, 0, 0.4, 0)
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)

UICorner.CornerRadius = UDim.new(0, 8)

TextBox.Size = UDim2.new(0.8, 0, 0.3, 0)
TextBox.Position = UDim2.new(0.1, 0, 0.15, 0)
TextBox.PlaceholderText = "Nháº­p Animation ID"
TextBox.Text = ""
TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
TextBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)

Button.Size = UDim2.new(0.8, 0, 0.3, 0)
Button.Position = UDim2.new(0.1, 0, 0.6, 0)
Button.Text = "Play Animation"
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)

--// Make draggable
Frame.Active = true
Frame.Draggable = true

--// Logic
local Players = game:GetService("Players")
local lp = Players.LocalPlayer

local function stopAllAnimations(char)
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	if humanoid then
		-- Stop all playing tracks
		for _, track in ipairs(humanoid:GetPlayingAnimationTracks()) do
			track:Stop()
		end
		
		-- Remove Animate script if exists (prevents auto idle/walk/jump)
		local animScript = char:FindFirstChild("Animate")
		if animScript then
			animScript:Destroy()
		end
	end
end

local function playCustomAnimation(id)
	local char = lp.Character or lp.CharacterAdded:Wait()
	local humanoid = char:FindFirstChildOfClass("Humanoid")
	if not humanoid then return end
	
	stopAllAnimations(char)

	local anim = Instance.new("Animation")
	anim.AnimationId = "rbxassetid://" .. id
	local track = humanoid:LoadAnimation(anim)
	track.Looped = true
	track:Play()
end

Button.MouseButton1Click:Connect(function()
	local animId = TextBox.Text
	if animId ~= "" then
		playCustomAnimation(animId)
	end
end)
